========================================
הוראות התקנה - BMS 2025
========================================

📋 סדר הפעולות להפעלת המערכת:

1️⃣ הכנת בסיס הנתונים ב-Supabase
   ----------------------------------------
   א. היכנס ל-Supabase: https://app.supabase.com
   ב. בחר את הפרויקט שלך (snyysiklfbaycdshgsif)
   ג. עבור אל SQL Editor (בתפריט השמאלי)
   ד. הרץ את הסקריפטים בסדר הבא:

      1. SUPABASE_TABLES_SCHEMA.sql
         (יוצר את כל הטבלאות הבסיסיות)

      2. UPDATE_SCHEMA_FOR_ORDERS.sql
         (מוסיף שדות נוספים למערכת ההזמנות)

      3. DISABLE_RLS_FOR_DEVELOPMENT.sql
         (משבית אבטחה לצורך פיתוח - אופציונלי)

   ⚠️ אם יש שגיאות על טבלאות שכבר קיימות - זה בסדר!
      המערכת משתמשת ב-IF NOT EXISTS

2️⃣ הפעלת המערכת
   ----------------------------------------
   א. ודא שקובץ .env קיים עם המפתחות:
      - REACT_APP_SUPABASE_URL
      - REACT_APP_SUPABASE_KEY

   ב. הרץ את המערכת:
      - לחץ פעמיים על START.vbs
      או
      - הרץ: npm start

3️⃣ כניסה ראשונית
   ----------------------------------------
   שם משתמש: admin
   סיסמה: (השאר ריק)

========================================
מבנה בסיס הנתונים:
========================================

📊 טבלאות ראשיות:
   - users (משתמשים)
   - customers (לקוחות - פרטיים ועסקיים)
   - orders (הזמנות)
   - order_items (פריטי הזמנה)
   - tasks (משימות)
   - whatsapp_templates (תבניות הודעות)
   - invoices (חשבוניות)
   - payments (תשלומים)
   - products (מוצרים)
   - activity_log (לוג פעילות)

🔢 מספור אוטומטי:
   - לקוחות: 1001, 1002, 1003...
   - הזמנות: 1001, 1002, 1003...
   - חשבוניות: 1001, 1002, 1003...

========================================
פיצ'רים זמינים:
========================================

✅ ניהול משתמשים (Settings)
✅ ניהול לקוחות (Customers) - פרטי/עסקי
✅ ניהול הזמנות (Orders) עם:
   - שורות מוצרים דינמיות
   - חישוב מע"מ 18% אוטומטי
   - שליחת WhatsApp
   - יצירת משימה אוטומטית
   - הדפסה
   - יצירת PDF (בפיתוח)

🔜 בפיתוח:
   - עמוד משימות (Tasks)
   - עריכת תבניות WhatsApp בהגדרות
   - דוחות ואנליטיקה

========================================
בעיות נפוצות:
========================================

❌ שגיאה: "401 Unauthorized"
   ✅ פתרון: ודא שאתה משתמש ב-Service Role Key ולא ב-Anon Key

❌ שגיאה: "relation does not exist"
   ✅ פתרון: הרץ את הסקריפטים ב-Supabase SQL Editor

❌ שגיאה: "RLS policy"
   ✅ פתרון: הרץ את DISABLE_RLS_FOR_DEVELOPMENT.sql

========================================
תמיכה:
========================================

📧 לדיווח על באגים: https://github.com/David-Keshet/keshet-system/issues
📚 תיעוד מלא: ראה README.md

========================================
